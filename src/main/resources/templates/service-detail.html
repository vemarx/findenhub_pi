<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title th:text="${service.title}">Servi√ßo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css"
    />

    <!-- LINK PARA CSS-->
    <link rel="stylesheet" th:href="@{/css/global.css}">
    <link rel="stylesheet" th:href="@{/css/services.css}">
  
  </head>
  <body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
      <div class="container">
        <a class="navbar-brand fw-bold text-primary" th:href="@{/}">
          <i class="bi bi-calendar-event"></i> FindenHub
        </a>
        <a th:href="@{/services}" class="btn btn-outline-primary">
          <i class="bi bi-arrow-left"></i> Voltar
        </a>
      </div>
    </nav>

    <!-- Content -->
    <div class="container py-5">
      <div class="row">
        <!-- Detalhes do Servi√ßo -->
        <div class="col-lg-8">
          <div
            class="card shadow-sm mb-4"
            style="border: none; border-radius: 15px"
          >
            <div class="card-body p-4">
              <!-- Imagem -->
              <div
                class="service-image mb-4"
                th:if="${service.imageUrl == null}"
              >
                <i class="bi bi-image"></i>
              </div>
              <img
                th:if="${service.imageUrl != null}"
                th:src="${service.imageUrl}"
                class="img-fluid rounded mb-4"
                alt="Servi√ßo"
              />

              <!-- T√≠tulo e Categoria -->
              <h1 th:text="${service.title}" class="mb-3">T√≠tulo do Servi√ßo</h1>

              <div class="mb-4">
                <span class="badge bg-primary me-2" th:if="${category}">
                  <span th:text="${category.icon}">üé®</span>
                  <span th:text="${category.name}">Categoria</span>
                </span>
                <span class="badge bg-info" th:if="${service.location}">
                  <i class="bi bi-geo-alt"></i>
                  <span th:text="${service.location}">Localiza√ß√£o</span>
                </span>
              </div>

              <!-- Descri√ß√£o -->
              <h4>Sobre o Servi√ßo</h4>
              <p class="lead" th:text="${service.description}">
                Descri√ß√£o detalhada...
              </p>

              <!-- Caracter√≠sticas -->
              <div th:if="${!#lists.isEmpty(service.features)}" class="mt-4">
                <h5>Caracter√≠sticas</h5>
                <ul class="list-group list-group-flush">
                  <li
                    class="list-group-item"
                    th:each="feature : ${service.features}"
                  >
                    <i class="bi bi-check-circle-fill text-success"></i>
                    <span th:text="${feature}">Caracter√≠stica</span>
                  </li>
                </ul>
              </div>

              <!-- Info Adicional -->
              <div class="row mt-4">
                <div class="col-md-6" th:if="${service.capacity}">
                  <div class="card bg-light">
                    <div class="card-body text-center">
                      <i class="bi bi-people-fill text-primary fs-3"></i>
                      <h6 class="mt-2">Capacidade</h6>
                      <p
                        class="mb-0"
                        th:text="${service.capacity + ' pessoas'}"
                      >
                        100 pessoas
                      </p>
                    </div>
                  </div>
                </div>
                <div class="col-md-6" th:if="${service.duration}">
                  <div class="card bg-light">
                    <div class="card-body text-center">
                      <i class="bi bi-clock-fill text-primary fs-3"></i>
                      <h6 class="mt-2">Dura√ß√£o</h6>
                      <p class="mb-0" th:text="${service.duration}">4 horas</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- Informa√ß√µes do Fornecedor -->
        <div class="col-lg-4">
          <div class="card info-card shadow-sm mb-3">
            <div class="card-body p-4">
              <div class="text-center mb-3">
                <i
                  class="bi bi-person-circle text-primary"
                  style="font-size: 5rem"
                ></i>
                <h5 class="mt-3" th:text="${supplier.name}">Fornecedor</h5>
                <p
                  class="text-muted small mb-0"
                  th:if="${supplier.companyName}"
                  th:text="${supplier.companyName}"
                >
                  Empresa
                </p>
              </div>

              <!-- Avalia√ß√£o -->
              <div class="text-center mb-3">
                <div class="text-warning">
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-fill"></i>
                  <i class="bi bi-star-half"></i>
                </div>
                <p class="small text-muted mb-0">
                  <span
                    th:text="${#numbers.formatDecimal(supplier.rating, 1, 1)}"
                    >4.5</span
                  >
                  / 5.0 (<span th:text="${supplier.totalReviews}">12</span>
                  avalia√ß√µes)
                </p>
              </div>

              <hr />

              <!-- Pre√ßo -->
              <div class="text-center mb-4">
                <h2 class="text-success mb-0">
                  R$
                  <span th:text="${#numbers.formatDecimal(service.price, 1, 2)}"
                    >0,00</span
                  >
                </h2>
              </div>

              <!-- Contato -->
              <div class="d-grid gap-2">
                <button class="btn btn-primary btn-lg">
                  <i class="bi bi-telephone"></i> Entrar em Contato
                </button>
                <a
                  th:href="@{'/profile/' + ${supplier.id}}"
                  class="btn btn-outline-primary"
                >
                  <i class="bi bi-eye"></i> Ver Perfil Completo
                </a>
              </div>

              <hr />

              <!-- Info de Contato -->
              <div class="small text-muted">
                <p class="mb-2" th:if="${supplier.phone}">
                  <i class="bi bi-telephone"></i>
                  <span th:text="${supplier.phone}">Telefone</span>
                </p>
                <p class="mb-2" th:if="${supplier.city}">
                  <i class="bi bi-geo-alt"></i>
                  <span th:text="${supplier.city + ', ' + supplier.state}"
                    >Cidade</span
                  >
                </p>
                <p class="mb-0" th:if="${supplier.website}">
                  <i class="bi bi-globe"></i>
                  <a th:href="${supplier.website}" target="_blank">Website</a>
                </p>
              </div>
            </div>
          </div>

          <!-- Stats -->
          <div class="card shadow-sm">
            <div class="card-body text-center">
              <p class="small text-muted mb-2">
                <i class="bi bi-eye"></i>
                <span th:text="${service.views}">0</span> visualiza√ß√µes
              </p>
              <p class="small text-muted mb-0">
                <i class="bi bi-telephone"></i>
                <span th:text="${service.contacts}">0</span> contatos realizados
              </p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>

<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Criar Novo Evento - FindenPI</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <style>
        body { background: #f8f9fa; }
        .form-header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 3rem 0;
            margin-bottom: 2rem;
        }
        .form-card {
            border: none;
            border-radius: 15px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
        }
    </style>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-light bg-white shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-bold text-primary" th:href="@{/}">
                <i class="bi bi-calendar-event"></i> FindenPI
            </a>
            <a th:href="@{/organizer/dashboard}" class="btn btn-outline-primary">
                <i class="bi bi-arrow-left"></i> Voltar ao Dashboard
            </a>
        </div>
    </nav>
    
    <!-- Header -->
    <div class="form-header">
        <div class="container">
            <h1>
                <i class="bi bi-plus-circle"></i> Criar Novo Evento
            </h1>
            <p class="lead mb-0">Preencha os dados do seu evento</p>
        </div>
    </div>
    
    <!-- Form -->
    <div class="container pb-5">
        <div class="row justify-content-center">
            <div class="col-lg-8">
                <div class="card form-card">
                    <div class="card-body p-4">
                        <form th:action="@{/events/new}" th:object="${eventDTO}" method="post">
                            
                            <!-- T√≠tulo do Evento -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">T√≠tulo do Evento *</label>
                                <input type="text" th:field="*{title}" class="form-control" 
                                       placeholder="Ex: Casamento de Jo√£o e Maria" required>
                                <div class="text-danger small" th:errors="*{title}"></div>
                            </div>
                            
                            <!-- Tipo de Evento -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">Tipo de Evento *</label>
                                <select th:field="*{eventType}" class="form-select" required>
                                    <option value="">Selecione o tipo</option>
                                    <option th:each="type : ${eventTypes}" 
                                            th:value="${type}" 
                                            th:text="${type.displayName}">
                                        Tipo
                                    </option>
                                </select>
                                <div class="text-danger small" th:errors="*{eventType}"></div>
                            </div>
                            
                            <!-- Descri√ß√£o -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">Descri√ß√£o do Evento *</label>
                                <textarea th:field="*{description}" class="form-control" rows="4" 
                                          placeholder="Descreva seu evento..." required></textarea>
                                <div class="text-danger small" th:errors="*{description}"></div>
                                <small class="text-muted">M√≠nimo 10 caracteres</small>
                            </div>
                            
                            <!-- Data e Hora -->
                            <div class="row">
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">Data e Hora do Evento *</label>
                                    <input type="datetime-local" th:field="*{eventDate}" class="form-control" required>
                                    <div class="text-danger small" th:errors="*{eventDate}"></div>
                                </div>
                                
                                <div class="col-md-6 mb-3">
                                    <label class="form-label fw-bold">N√∫mero de Convidados *</label>
                                    <input type="number" th:field="*{expectedGuests}" class="form-control" 
                                           min="1" placeholder="Ex: 100" required>
                                    <div class="text-danger small" th:errors="*{expectedGuests}"></div>
                                </div>
                            </div>
                            
                            <!-- Local do Evento -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">Local do Evento *</label>
                                <input type="text" th:field="*{venue}" class="form-control" 
                                       placeholder="Ex: Sal√£o de Festas Villa Bella" required>
                                <div class="text-danger small" th:errors="*{venue}"></div>
                            </div>
                            
                            <!-- Cidade e Estado -->
                            <div class="row">
                                <div class="col-md-8 mb-3">
                                    <label class="form-label fw-bold">Cidade *</label>
                                    <input type="text" th:field="*{city}" class="form-control" 
                                           placeholder="Ex: S√£o Paulo" required>
                                    <div class="text-danger small" th:errors="*{city}"></div>
                                </div>
                                
                                <div class="col-md-4 mb-3">
                                    <label class="form-label fw-bold">Estado</label>
                                    <input type="text" th:field="*{state}" class="form-control" 
                                           maxlength="2" placeholder="SP">
                                </div>
                            </div>
                            
                            <!-- Or√ßamento -->
                            <div class="mb-3">
                                <label class="form-label fw-bold">Or√ßamento Estimado (R$)</label>
                                <input type="number" th:field="*{budget}" class="form-control" 
                                       step="0.01" min="0" placeholder="Ex: 15000.00">
                                <small class="text-muted">Opcional - Ajuda a encontrar servi√ßos adequados</small>
                            </div>
                            
                            <!-- Categorias Necess√°rias -->
                            <div class="mb-4">
                                <label class="form-label fw-bold">Categorias de Servi√ßos Necess√°rios</label>
                                <small class="text-muted d-block mb-2">Selecione as categorias de servi√ßos que voc√™ precisa para seu evento</small>
                                
                                <div class="row g-2">
                                    <div class="col-md-4 col-6" th:each="category, stat : ${categories}">
                                        <div class="form-check">
                                            <input class="form-check-input" type="checkbox" 
                                                   th:field="*{categoryNeeds}" 
                                                   th:value="${category.id}"
                                                   th:id="'cat' + ${stat.index}">
                                            <label class="form-check-label" th:for="'cat' + ${stat.index}">
                                                <span th:text="${category.icon}">üé®</span>
                                                <span th:text="${category.name}">Categoria</span>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Bot√µes -->
                            <div class="d-flex justify-content-between pt-3">
                                <a th:href="@{/organizer/dashboard}" class="btn btn-outline-secondary">
                                    <i class="bi bi-x-circle"></i> Cancelar
                                </a>
                                <button type="submit" class="btn btn-primary btn-lg">
                                    <i class="bi bi-check-circle"></i> Criar Evento
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <!-- Dicas -->
                <div class="card mt-4 border-info">
                    <div class="card-body">
                        <h6 class="card-title text-info">
                            <i class="bi bi-lightbulb"></i> Dicas para criar um evento de sucesso:
                        </h6>
                        <ul class="small mb-0">
                            <li>Defina uma data com pelo menos 2 meses de anteced√™ncia</li>
                            <li>Seja espec√≠fico na descri√ß√£o do evento</li>
                            <li>Marque todas as categorias de servi√ßos que voc√™ precisa</li>
                            <li>Informe o or√ßamento para receber sugest√µes adequadas</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>